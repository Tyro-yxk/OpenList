System.register(["./index-legacy-CEiNF2du.js"],function(e,t){"use strict";var n,r,o,l,d,a,i,s,c,f,u,w,m,y;return{setters:[e=>{n=e.g,r=e.A,o=e.e4,l=e.a3,d=e.at,a=e.L,i=e.aw,s=e.bp,c=e.aY,f=e.C,u=e.ab,w=e.S,m=e.a9,y=e.l}],execute:function(){var t=i("<div id=swf-container style=justify-content:center;align-items:center>");e("default",()=>{const e=y(),{replace:i}=n(),[h,g]=r(!0),[v,p]=r(!1),{ruffleJSPath:E}=o();let L=l.objs.filter(e=>e.name.toLowerCase().endsWith(".swf"));0===L.length&&(L=[l.obj]);const b=e=>{const t=L.findIndex(e=>e.name===l.obj.name);"ArrowLeft"===e.key&&t>0?i(L[t-1].name):"ArrowRight"===e.key&&t<L.length-1&&i(L[t+1].name)};d(()=>{window.addEventListener("keydown",b),j()}),a(()=>{window.removeEventListener("keydown",b);const e=document.getElementById("ruffle-player");e?.remove();const t=document.getElementById("ruffle-script");t?.remove()});const j=()=>{g(!0),p(!1);const e=document.getElementById("ruffle-player");if(e?.remove(),window.RufflePlayer)return void I();const t=document.createElement("script");t.src=E(),t.async=!0,t.id="ruffle-script",t.onload=()=>{I()},t.onerror=()=>{p(!0),g(!1),console.error("无法加载Ruffle播放器")},document.head.appendChild(t)},I=()=>{try{const e=window.RufflePlayer.newest().createPlayer();e.id="ruffle-player",e.style.width="100%",e.style.height="100%";const t=document.getElementById("swf-container");t&&(t.innerHTML="",t.appendChild(e),e.addEventListener("loaded",()=>{g(!1)}),e.addEventListener("error",()=>{p(!0),g(!1)}),e.load(l.raw_url))}catch(e){console.error("Ruffle初始化失败:",e),p(!0),g(!1)}};return R=t(),s(R,"position","relative"),s(R,"width","100%"),s(R,"height","75vh"),s(R,"display","flex"),c(R,f(w,{get when(){return h()},get children(){return f(u,{})}}),null),c(R,f(w,{get when(){return v()},get children(){return f(m,{get msg(){return e("preview.failed_load_swf")},h:"75vh"})}}),null),R;var R})}}});
